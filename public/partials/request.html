
<!-- public/partials/request.html -->



<div class=".container-fluid">
  <form name="requestForm" class="col-md-8 col-md-offset-2" ng-submit="processForm()">  
      <!-- Alerts indicating the result of a requested operation -->
    <uib-alert 
        ng-repeat="alert in alerts"
        type="{{alert.type}}"
        close="dismissAlert($index)">
      {{alert.msg}}
    </uib-alert>

    <div class="col-md-4">
      <label >Type</label>
    </div>
  
    <div 
        class="form-group"
        ng-class="{valid:'has-success has-feedback',
            invalid:'has-error has-feedback',
            empty:''}[type.validation.isValid]">
  <!-- <span class="input-group-addon">Organization</span> -->
      <select class="form-control" name="type" ng-model= "type.value" ng-focus="type.validate()" ng-blur="type.validate()" ng-click="type.validate()" required>
        <option value="expense">Expense</option>
        <option value="transfer">Transfer</option>
        <option value="revenue">Revenue</option>
      </select>
      <span
          ng-if="type.validation.isValid == 'invalid'"
          class="help-block">
        {{type.validation.helpBlock}}
      </span>
    </div>

    <div class="col-md-4">
      <label >Organization</label>
    </div>
  
    <div 
        class="form-group"
        ng-class="{valid:'has-success has-feedback',
            invalid:'has-error has-feedback',
            empty:''}[organization.validation.isValid]">

      <!-- <span class="input-group-addon">Organization</span> -->
      <select class="form-control" name="organization" ng-model= "organization.value" ng-focus="organization.validate()" ng-blur="organization.validate()" ng-click="organization.validate()" required>
        <option value="SAO">SAO</option>
        <option value="SERV">SERV</option>
        <option value="SG">SG</option>
      </select>
      <span
          ng-if="organization.validation.isValid == 'invalid'"
          class="help-block">
        {{organization.validation.helpBlock}}
      </span>
    </div>

    <div class="col-md-4">
      <label >Description</label>
    </div>
    <div 
        class="form-group" 
        ng-class="{valid:'has-success has-feedback',
            invalid:'has-error has-feedback',
            empty:''}[description.validation.isValid]">
      <!-- ng-click = "validate()" -->

      <!-- <input type="text" class="form-control" placeholder="< 100 words" aria-describedby="basic-addon1" ng-model = description> -->
      <input type="text" name="description" class="form-control" placeholder="< 100 words" aria-describedby="basic-addon1" ng-model = "description.value"  ng-blur="description.validate()" required>
      <span
          ng-if="description.validation.isValid == 'valid'"
          class="requestGlyphicon glyphicon glyphicon-ok form-control-feedback"
          aria-hidden="true"></span>
      <span
          ng-if="description.validation.isValid == 'invalid'"
          class="requestGlyphicon glyphicon glyphicon-remove form-control-feedback"
          aria-hidden="true"></span>
      <!-- </input> -->
      <span
          ng-if="description.validation.isValid == 'invalid'"
          class="help-block">
        {{description.validation.helpBlock}}
      </span>
<!--       <div ng-messages="requestForm.description.$error">
        <div class = "help-block" ng-message="required">This field is required</div>
      </div> -->
    </div>

    <div class="col-md-4">
      <label >Details</label>
    </div>

    <div 
      class="form-group"
      ng-class="{valid:'has-success has-feedback',
            invalid:'has-error has-feedback',
            empty:''}[details.validation.isValid]">

      <input type="text" name="details" class="form-control" placeholder="< 200 words" aria-describedby="basic-addon1" ng-model = "details.value" 
      ng-blur="details.validate()" required/>
      <span
          ng-if="details.validation.isValid == 'valid'"
          class="requestGlyphicon glyphicon glyphicon-ok form-control-feedback"
          aria-hidden="true"></span>
      <span
          ng-if="details.validation.isValid == 'invalid'"
          class="requestGlyphicon glyphicon glyphicon-remove form-control-feedback"
          aria-hidden="true"></span>
      <span
          ng-if="details.validation.isValid == 'invalid'"
          class="help-block">
        {{details.validation.helpBlock}}
      </span>
    </div>

    <div ng-class="{valid:'has-success has-feedback',
            invalid:'has-error has-feedback',
            empty:''}[amount.validation.isValid]">

      <div class="col-md-4">
        <label >Amount</label>
      </div>

      <div class="form-group input-group">
        <span class="input-group-addon">$</span>
        <input type="number" name = "amount" class="form-control" placeholder="< 200 $" aria-label="Amount (to the nearest dollar)" ng-model = "amount.value" ng-blur="amount.validate()" required/>
        <span
          <span class="input-group-addon">.00</span>
      </div>
      <span
          ng-if="amount.validation.isValid == 'invalid'"
          class="col-md-8 col-md-offset-4 help-block">
        {{amount.validation.helpBlock}}
      </span>
    </div>


    <div class = "row">
      <label class="col-md-4">Specification</label>
    </div>

    <div 
      class = "specification" 
      ng-class="{valid:'has-success has-feedback',
              invalid:'has-error has-feedback',
              empty:''}[specification.validation.isValid]">
        <div  class = "form-group row" ng-repeat="item in items">
                <div class="col-md-4" >
                  <div class="input-group">
                        <span class="input-group-addon">Item</span>
                        <input name = "specificationName" type="text" class="form-control"  ng-model = item.name ng-blur="specification.validateName()" required/>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="input-group">
                    <span class="input-group-addon">Price</span>
                    <input name = "specificationPrice" type="number" class="form-control" ng-model = item.price ng-blur="specification.validatePrice()" required>
                  </div>
                </div>

                <div class="col-md-3">
                  <div class="input-group">
                    <select name = "specificationItemCategory" class="form-control" ng-focus="specification.validateItemCategory()" ng-blur="specification.validateItemCategory()" ng-click="specification.validateItemCategory()" ng-model= item.category required>

                      <option value="Food">Food</option>
                      <option value="Equipment">Equipment</option>
                      <option value="Stationary">Stationary</option>
                      <option value="Dangerous Stuff">Dangerous Stuff</option>
                    </select>
                  </div>
                </div>
                <div class = "col-md-1 vcenter">
                  <span class="glyphicon glyphicon-remove" aria-hidden="true" ng-click="delItem(item.index)"></span>
                </div>
        </div>
         <span
            ng-if="specification.validation.isValid == 'invalid'"
            class="col-md-8 col-md-offset-4 help-block">
          {{specification.validation.helpBlock}}
        </span>
        <div class="btn-toolbar">
          <button type="button" class='btn btn-default' ng-click="addItem()">Add Item</button>
          <!-- <button type="button" class='btn btn-default' ng-click="delItem()">Delete Item</button>  -->
        </div>
    </div>

    <div class="checkbox">
      <label>
        <input type="checkbox" ng-model="onlineCheck">
        <Strong>If Online</Strong>
      </label>
    </div>
    
    <div class = "onlineSpecification" ng-show = "onlineCheck"> 
      
      <div ng-repeat="link in links" class = "form-group row">
          <div class="col-md-5" >
            <div class="input-group">
                  <span class="input-group-addon">Link</span>
                  <input type="text" class="form-control" ng-model = link.url>
            </div>
          </div>

          <div class="col-md-6">
            <div class="input-group">
              <span class="input-group-addon">Description</span>
              <input type="text" class="form-control" ng-model = link.description>
            </div>
          </div>
          <div class = "col-md-1 vcenter">
            <span class="glyphicon glyphicon-remove" aria-hidden="true" ng-click="delLink(link.index)"></span>
          </div>
      </div>

    <div class="btn-toolbar">
      <button type="button" class='btn btn-default' ng-click="addLink()">Add Item</button>
      <!-- <button type="button" class='btn btn-default' ng-click="delLink()">Delete Item</button>  -->
    </div>

    </div>

    <div class="request-form-submit">
      <button type="submit" class='btn btn-success btn-lg btn-block' >Submit</button> 
    </div>
    
  </form>

<!-- <form name="exampleForm" class="elegant-aero">
    <label>First Name:</label>
    <input type="text" name="userFirstName" ng-model="firstName" required />
    <div ng-messages="exampleForm.userFirstName.$error">
      <div ng-message="required">This field is required</div>
    </div>

    <label>Last Name:</label>
    <input type="text" name="userLastName" ng-model="lastName" required />
    <div ng-messages="exampleForm.userLastName.$error">
      <div ng-message="required">This field is required</div>
    </div>

    <label>Email Address:</label>
    <input type="email" name="userEmail" ng-model="email" required />
    <div ng-messages="exampleForm.userEmail.$error">
      <div ng-message="required">This field is required</div>
      <div ng-message="email">Your email address is invalid</div>
    </div>

    <label>Phone Number:</label>
    <input type="email" name="userPhoneNumber" ng-model="phoneNumber" ng-pattern="/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/" required/>
    <div ng-messages="exampleForm.userPhoneNumber.$error">
      <div ng-message="required">This field is required</div>
      <div ng-message="pattern">Must be a valid 10 digit phone number</div>
    </div>

    <label>User Message:</label>
    <textarea type="text" name="userMessage" class="form-control" rows="4" ng-model="message" ng-minlength="10" ng-maxlength="100" required></textarea>
    <div ng-messages="exampleForm.userMessage.$error">
      <div ng-message="required">This field is required</div>
      <div ng-message="minlength">Message must be over 10 characters</div>
      <div ng-message="maxlength">Message must not exceed 100 characters</div>
    </div>
  </form> -->

</div>




